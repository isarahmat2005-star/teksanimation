<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motion Text Engine Core</title>
    <style>
        /* CSS DASAR (Hanya untuk layout, bukan kosmetik berat) */
        body { font-family: sans-serif; background: #1a1a1a; color: white; display: flex; height: 100vh; margin: 0; }
        
        /* LAYOUT: Kiri (Kontrol), Tengah (Preview), Bawah (Log) */
        .sidebar { width: 300px; padding: 20px; background: #252525; border-right: 1px solid #444; display: flex; flex-direction: column; gap: 15px; }
        .main-area { flex: 1; display: flex; flex-direction: column; }
        .preview-box { flex: 1; background: black; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .telemetry-panel { height: 150px; background: #000; padding: 10px; font-family: monospace; border-top: 1px solid #333; overflow-y: auto; font-size: 12px; color: #0f0; }

        /* KOMPONEN INPUT */
        .control-group { display: flex; flex-direction: column; gap: 5px; }
        label { font-size: 12px; color: #aaa; font-weight: bold; text-transform: uppercase; }
        input, select, button { padding: 10px; background: #333; border: 1px solid #555; color: white; border-radius: 4px; }
        button { background: #007bff; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #0056b3; }
        button:disabled { background: #555; cursor: not-allowed; }

        /* --- LOGIKA VISUAL (Engine Animasi) --- */
        
        /* 1. Base Text */
        .motion-text { font-size: 60px; text-align: center; position: relative; z-index: 10; }
        .char { display: inline-block; transition: all 0.3s; }

        /* 2. Style: Typography */
        .font-bold { font-family: 'Arial Black', sans-serif; font-weight: 900; }
        .font-thin { font-family: 'Courier New', monospace; font-weight: 100; letter-spacing: 5px; }
        .font-tech { font-family: 'Segoe UI', sans-serif; text-transform: uppercase; letter-spacing: 2px; }

        /* 3. Animation: Types */
        /* Animasi: Floating */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        .anim-float .char { animation: float 3s ease-in-out infinite; }
        
        /* Animasi: Shake/Glitch */
        @keyframes shake { 0% { transform: translate(0,0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(2px, -2px); } 100% { transform: translate(0,0); } }
        .anim-shake .char { animation: shake 0.5s infinite; color: cyan; text-shadow: 2px 0 red; }

        /* Animasi: Fade In */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
        .anim-fade .char { animation: fadeIn 0.8s forwards; opacity: 0; }

        /* 4. Overlay Layers */
        .overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 20; opacity: 0.3; }
        .scanlines { background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.5)); background-size: 100% 4px; }
        .vignette { background: radial-gradient(circle, transparent 50%, black 100%); opacity: 0.8; }

    </style>
</head>
<body>

    <div class="sidebar">
        <h3>ENGINE CONTROLS</h3>
        
        <div class="control-group">
            <label>Headline Text</label>
            <input type="text" id="TextInput" value="MOTION TEXT" placeholder="Masukkan teks...">
        </div>

        <div class="control-group">
            <label>Typography Style</label>
            <select id="StyleSelect">
                <option value="font-bold">Bold Impact</option>
                <option value="font-thin">Minimalist Code</option>
                <option value="font-tech">Tech Modern</option>
            </select>
        </div>

        <div class="control-group">
            <label>Animation Engine</label>
            <select id="AnimSelect">
                <option value="anim-fade">Simple Fade</option>
                <option value="anim-float">Floating Particles</option>
                <option value="anim-shake">Glitch / Shake</option>
            </select>
        </div>

        <div class="control-group">
            <label>Overlay Effect</label>
            <select id="OverlaySelect">
                <option value="">None</option>
                <option value="scanlines">CRT Scanlines</option>
                <option value="vignette">Cinema Vignette</option>
            </select>
        </div>

        <div style="margin-top: auto;">
            <button id="GenerateBtn" style="width: 100%; height: 50px;">GENERATE RENDER</button>
        </div>
    </div>

    <div class="main-area">
        
        <div class="preview-box" id="PreviewContainer">
            <div id="OverlayLayer" class="overlay"></div>
            <div id="TextDisplay" class="motion-text font-bold">
                </div>
        </div>

        <div class="telemetry-panel" id="LogPanel">
            <div>> System Initialized...</div>
            <div>> Ready for input.</div>
        </div>
    </div>

    <script>
        // --- 1. INISIALISASI VARIABEL ---
        const textInput = document.getElementById('TextInput');
        const styleSelect = document.getElementById('StyleSelect');
        const animSelect = document.getElementById('AnimSelect');
        const overlaySelect = document.getElementById('OverlaySelect');
        const generateBtn = document.getElementById('GenerateBtn');
        
        const textDisplay = document.getElementById('TextDisplay');
        const overlayLayer = document.getElementById('OverlayLayer');
        const logPanel = document.getElementById('LogPanel');

        // --- 2. FUNGSI INTI (ENGINE) ---

        // Fungsi: System Logger (Fitur Telemetry)
        // Mencatat setiap aktivitas user ke panel bawah
        function systemLog(message) {
            const time = new Date().toLocaleTimeString();
            const logLine = document.createElement('div');
            logLine.innerHTML = `<span style="color:#888">[${time}]</span> ${message}`;
            logPanel.prepend(logLine); // Taruh log terbaru di atas
        }

        // Fungsi: Render Teks (Fitur Text Engine)
        // Memecah teks jadi huruf per huruf agar bisa dianimasikan
        function updateEngine() {
            const rawText = textInput.value;
            const selectedFont = styleSelect.value;
            const selectedAnim = animSelect.value;
            const selectedOverlay = overlaySelect.value;

            // 1. Reset Class Container
            textDisplay.className = `motion-text ${selectedFont} ${selectedAnim}`;
            
            // 2. Update Overlay
            overlayLayer.className = `overlay ${selectedOverlay}`;

            // 3. Split Text Logic (Memecah huruf)
            textDisplay.innerHTML = ''; // Kosongkan dulu
            const chars = rawText.split('');
            
            chars.forEach((char, index) => {
                const span = document.createElement('span');
                span.textContent = char === ' ' ? '\u00A0' : char; // Handle spasi
                span.className = 'char';
                
                // Logika Stagger (Delay bertahap)
                // Jika animasi 'float', kita acak delay-nya supaya natural
                if (selectedAnim === 'anim-float') {
                    span.style.animationDelay = `${index * 0.2}s`;
                } 
                // Jika animasi 'fade', kita urutkan
                else if (selectedAnim === 'anim-fade') {
                    span.style.animationDelay = `${index * 0.1}s`;
                }
                
                textDisplay.appendChild(span);
            });
        }

        // --- 3. EVENT LISTENERS (MENDENGARKAN INPUT USER) ---

        // Saat mengetik teks
        textInput.addEventListener('input', () => {
            updateEngine();
            // Kita tidak log setiap ketikan agar tidak spam, log hanya saat selesai (blur) atau change
        });

        // Saat mengubah Style
        styleSelect.addEventListener('change', () => {
            updateEngine();
            systemLog(`> Style updated to: ${styleSelect.options[styleSelect.selectedIndex].text}`);
        });

        // Saat mengubah Animasi
        animSelect.addEventListener('change', () => {
            updateEngine();
            // Reset animasi dengan trik reflow
            textDisplay.style.display = 'none';
            void textDisplay.offsetWidth; 
            textDisplay.style.display = 'block';
            
            systemLog(`> Animation Engine loaded: ${animSelect.value}`);
        });

        // Saat mengubah Overlay
        overlaySelect.addEventListener('change', () => {
            updateEngine();
            systemLog(`> Overlay filter applied: ${overlaySelect.value || "None"}`);
        });

        // --- 4. SIMULASI GENERATE VIDEO ---
        generateBtn.addEventListener('click', () => {
            systemLog("> STARTING RENDER SEQUENCE...");
            generateBtn.disabled = true;
            generateBtn.innerText = "PROCESSING...";

            let progress = 0;
            const interval = setInterval(() => {
                progress += 20;
                systemLog(`> Rendering frames... ${progress}%`);
                
                if (progress >= 100) {
                    clearInterval(interval);
                    systemLog("> RENDER COMPLETE. File exported.");
                    systemLog("> Output: C:/Users/Downloads/Video_Final.mp4");
                    alert("Video berhasil digenerate! (Simulasi)");
                    generateBtn.disabled = false;
                    generateBtn.innerText = "GENERATE RENDER";
                }
            }, 500); // Update setiap 0.5 detik
        });

        // Jalankan sekali saat load
        updateEngine();

    </script>
</body>
</html>
